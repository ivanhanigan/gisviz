library(gisviz)
?gGeoCode2
address <- c("1 Lineaus way acton canberra", "15 follett street scullin")
gGeoCode2(address)
df <- gGeoCode2(address)
df <- df[,1]
df
str(df)
df <- as.data.frame(df[,1])
df <- gGeoCode2(address)
df <- as.data.frame(df[,1])
str(df)
df
names(df) <- 'name'
df
df2 <- gGeoCode2(df)
df2
require(swishdbtools)
require(devtools)
install_github("gisviz", "ivanhanigan")
pwd <- getPassword(remote=F)
shp <- readOGR2(hostip="localhost", user="ivan_hanigan", db="django", layer="abs_sla.aussla08", p=pwd)
require(gisviz)
shp2 <- shp
df <- sql_subset(ch, "public.aatest_uvr_intersection4", select = "distinct sla_main08", eval = T)
ch <-connect2postgres2("delphe")
df <- sql_subset(ch, "public.aatest_uvr_intersection4", select = "distinct sla_main08", eval = T)
nrow(df)
df$var <- rnorm(1389,1,2)
shp2@data <- merge(shp2@data, df)
plotMap(stat = "var", cellsmap=shp2, region.map=shp2)
plot(oz)
require(maps)
plot(oz)
require(oz)
install.packages("oz")
require(oz)
plot(oz)
?oz
oz
download.file("http://www.elaliberte.info/ozdata.csv?attredirects=0", "ozdata.csv", mode = "wb")
ds <- read.csv("ozdata.csv")
dim(ds)
str(ds)
require(maps)
plot(world)
?maps
??maps
str(map('world'))
??sp
attr = data.frame(a=1:3, b=3:1, row.names=c("s3/4", "s2", "s1"))
SrDf = SpatialPolygonsDataFrame(SpP, attr)
Sr1 = Polygon(cbind(c(2,4,4,1,2),c(2,3,5,4,2)))
Sr2 = Polygon(cbind(c(5,4,2,5),c(2,3,2,2)))
Sr3 = Polygon(cbind(c(4,4,5,10,4),c(5,3,2,5,5)))
Sr4 = Polygon(cbind(c(5,6,6,5,5),c(4,4,3,3,4)), hole = TRUE)
Srs1 = Polygons(list(Sr1), "s1")
Srs2 = Polygons(list(Sr2), "s2")
Srs3 = Polygons(list(Sr3, Sr4), "s3/4")
SpP = SpatialPolygons(list(Srs1,Srs2,Srs3), 1:3)
plot(SpP, col = 1:3, pbg="white")
attr = data.frame(a=1:3, b=3:1, row.names=c("s3/4", "s2", "s1"))
SrDf = SpatialPolygonsDataFrame(SpP, attr)
dev.off()
plot(SpP, col = 1:3, pbg="white")
attr = data.frame(a=1:3, b=3:1, row.names=c("s3/4", "s2", "s1"))
SrDf = SpatialPolygonsDataFrame(SpP, attr)
SrDf@data
plot(SrDf)
SrDf@data
plotMap("b",SrDf,SrDf)
plotMap("b",cellsmap=SrDf,region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
args(plotMap)
install_github("gisviz","ivanhanigan")
plotMap("title", stat = "b",region.map= SrDf)
?plotMap
?plotMap
library(gisviz)
library(gisviz)
?plotMap
library(gisviz)
?plotMap
library(gisviz)
Sr1 = Polygon(cbind(c(2,4,4,1,2),c(2,3,5,4,2)))
Sr2 = Polygon(cbind(c(5,4,2,5),c(2,3,2,2)))
Sr3 = Polygon(cbind(c(4,4,5,10,4),c(5,3,2,5,5)))
Sr4 = Polygon(cbind(c(5,6,6,5,5),c(4,4,3,3,4)), hole = TRUE)
Srs1 = Polygons(list(Sr1), "s1")
Srs2 = Polygons(list(Sr2), "s2")
Srs3 = Polygons(list(Sr3, Sr4), "s3/4")
SpP = SpatialPolygons(list(Srs1,Srs2,Srs3), 1:3)
plot(SpP, col = 1:3, pbg="white")
attr = data.frame(a=1:3, b=3:1, row.names=c("s3/4", "s2", "s1"))
SrDf = SpatialPolygonsDataFrame(SpP, attr)
plot(SrDf)
stat = "b"
region.map= SrDf
maptitle = 'map'
brew.pal = "RdYlBu"
cellsmap=region.map
plotdir = getwd()
probs=seq(0,1,.2)
outfile = NA
cells.map=cellsmap
bins = quantile(cells.map@data[,stat], probs, na.rm=T)
cells.map@data$bins = cut(cells.map@data[,stat], bins, include.lowest=TRUE)
col.vec = brewer.pal(length(level.labels),brew.pal)
level.labels <- get.levels(cellsmap=cellsmap,stat=stat,probs=probs)
col.vec <- brewer.pal(length(level.labels),brew.pal)
col.vec
levels(cells.map@data$bins) <- col.vec
par(fig = c(0,0.8,0,1), mar=c(2,2,2,0))
plot(cells.map,
border = FALSE,
axes = FALSE,
las = 1,
col = as.character(cells.map@data$bins))
axis(2)
axis(1)
box()
plot(region.map, add=TRUE, lwd=1)
mtext(maptitle, side = 3, cex = 2, line = -0.5)
par(fig = c(0.8,1,0,1), mar=c(0,0,0,0), new = FALSE)
legend("left", level.labels, fill=col.vec, bty="n", xpd=TRUE,
title="Legend")
col.vec[length(col.vec):1]
invert.brew.pal = TRUE
if(invert.brew.pal == TRUE) col.vec <- col.vec[length(col.vec):1]
levels(cells.map@data$bins) <- col.vec
par(fig = c(0,0.8,0,1.5), mar=c(2,2,2,0))
plot(cells.map,
border = FALSE,
axes = FALSE,
las = 1,
col = as.character(cells.map@data$bins))
axis(2)
axis(1)
dev.off
dev.off()
source('~/.active-rstudio-document')
plotMap("title", stat = "b",region.map= SrDf)
?par
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
plotMap("title", stat = "b",region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
source('~/tools/gisviz/R/plotMap.r')
,
source('~/tools/gisviz/R/plotMap.r')
source('~/tools/gisviz/R/plotMap.r')
plotMap("title", stat = "b",region.map= SrDf)
library(gisviz)
quire(d)
setwd('versions/')
dir()
?expand.grid
